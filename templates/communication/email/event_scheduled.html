{% extends "communication/email/base.html" %}

{% block title %}Nouvel Ã©vÃ©nement planifiÃ© - EEBC{% endblock %}

{% block header_color %}#8b5cf6{% endblock %}
{% block header_color_end %}#7c3aed{% endblock %}
{% block header_icon %}ğŸ“Œ{% endblock %}
{% block header_title %}Nouvel Ã©vÃ©nement planifiÃ©{% endblock %}
{% block header_subtitle %}
<p style="color: rgba(255,255,255,0.9); margin: 10px 0 0; font-size: 16px;">
    Un nouvel Ã©vÃ©nement a Ã©tÃ© ajoutÃ© au calendrier
</p>
{% endblock %}

{% block content %}
<p style="color: #0B0F19; margin: 0 0 20px; font-size: 16px; line-height: 1.6;">
    {% if recipient_name %}Bonjour {{ recipient_name }},{% else %}Bonjour,{% endif %}
</p>

<p style="color: #64748b; margin: 0 0 25px; font-size: 16px; line-height: 1.6;">
    Un nouvel Ã©vÃ©nement vient d'Ãªtre planifiÃ©. Notez-le dans votre agenda !
</p>

<!-- Carte Ã©vÃ©nement -->
<table width="100%" cellpadding="0" cellspacing="0" style="background: {{ event.color|default:'#8b5cf6' }}15; border-radius: 12px; border-left: 4px solid {{ event.color|default:'#8b5cf6' }};">
    <tr>
        <td style="padding: 25px;">
            <h2 style="color: #0B0F19; margin: 0 0 15px; font-size: 22px; font-weight: 700;">
                {{ event.title }}
            </h2>
            
            <p style="color: #64748b; margin: 0 0 10px; font-size: 16px;">
                ğŸ“† <strong>{{ event.start_date|date:"l j F Y" }}</strong>
                {% if event.start_time %} Ã  <strong>{{ event.start_time|time:"H:i" }}</strong>{% endif %}
            </p>
            
            {% if event.end_date and event.end_date != event.start_date %}
            <p style="color: #64748b; margin: 0 0 10px; font-size: 16px;">
                â¡ï¸ Jusqu'au <strong>{{ event.end_date|date:"l j F Y" }}</strong>
                {% if event.end_time %} Ã  {{ event.end_time|time:"H:i" }}{% endif %}
            </p>
            {% endif %}
            
            {% if event.location %}
            <p style="color: #64748b; margin: 0 0 10px; font-size: 16px;">
                ğŸ“ {{ event.location }}
            </p>
            {% endif %}
            
            {% if event.category %}
            <p style="margin: 15px 0 0;">
                <span style="display: inline-block; background: {{ event.color|default:'#8b5cf6' }}; color: white; padding: 6px 14px; border-radius: 20px; font-size: 14px; font-weight: 600;">
                    {{ event.category.name }}
                </span>
            </p>
            {% endif %}
        </td>
    </tr>
</table>

{% if event.description %}
<div style="margin-top: 25px; padding: 20px; background: #f8fafc; border-radius: 12px;">
    <h3 style="color: #0B0F19; margin: 0 0 10px; font-size: 16px; font-weight: 600;">Description</h3>
    <p style="color: #64748b; margin: 0; font-size: 15px; line-height: 1.6;">
        {{ event.description }}
    </p>
</div>
{% endif %}

{% if event.organizer %}
<p style="color: #94a3b8; margin: 25px 0 0; font-size: 14px;">
    ğŸ‘¤ OrganisÃ© par <strong>{{ event.organizer.get_full_name|default:event.organizer.username }}</strong>
</p>
{% endif %}
{% endblock %}
