{% extends 'emails/base_email.html' %}

{% block content %}
<h2 style="color: #1e3a5f; margin: 0 0 20px; font-size: 22px;">ğŸ‰ Nouvelle inscription !</h2>

<p style="color: #495057; line-height: 1.6; margin: 0 0 25px;">
    Une personne s'est inscrite via le site et souhaite en savoir plus sur l'Ã©glise.
</p>

<table role="presentation" style="width: 100%; background-color: #d4edda; border-radius: 8px; padding: 20px; margin-bottom: 25px;">
    <tr>
        <td style="padding: 10px 15px; border-bottom: 1px solid #c3e6cb;">
            <strong style="color: #155724;">Nom :</strong>
            <span style="color: #155724; margin-left: 10px;">{{ registration.first_name }} {{ registration.last_name }}</span>
        </td>
    </tr>
    <tr>
        <td style="padding: 10px 15px; border-bottom: 1px solid #c3e6cb;">
            <strong style="color: #155724;">Email :</strong>
            <a href="mailto:{{ registration.email }}" style="color: #0A36FF; margin-left: 10px;">{{ registration.email }}</a>
        </td>
    </tr>
    {% if registration.phone %}
    <tr>
        <td style="padding: 10px 15px; border-bottom: 1px solid #c3e6cb;">
            <strong style="color: #155724;">TÃ©lÃ©phone :</strong>
            <a href="tel:{{ registration.phone }}" style="color: #0A36FF; margin-left: 10px;">{{ registration.phone }}</a>
        </td>
    </tr>
    {% endif %}
    {% if registration.city %}
    <tr>
        <td style="padding: 10px 15px; border-bottom: 1px solid #c3e6cb;">
            <strong style="color: #155724;">Ville :</strong>
            <span style="color: #155724; margin-left: 10px;">{{ registration.city }}</span>
        </td>
    </tr>
    {% endif %}
    <tr>
        <td style="padding: 10px 15px; border-bottom: 1px solid #c3e6cb;">
            <strong style="color: #155724;">IntÃ©rÃªt :</strong>
            <span style="color: #155724; margin-left: 10px; font-weight: bold;">{{ registration.get_interest_display }}</span>
        </td>
    </tr>
    {% if registration.preferred_site %}
    <tr>
        <td style="padding: 10px 15px; border-bottom: 1px solid #c3e6cb;">
            <strong style="color: #155724;">Site prÃ©fÃ©rÃ© :</strong>
            <span style="color: #155724; margin-left: 10px;">{{ registration.preferred_site.name }}</span>
        </td>
    </tr>
    {% endif %}
    <tr>
        <td style="padding: 10px 15px;">
            <strong style="color: #155724;">Inscrit le :</strong>
            <span style="color: #155724; margin-left: 10px;">{{ registration.created_at|date:"d/m/Y Ã  H:i" }}</span>
        </td>
    </tr>
</table>

{% if registration.message %}
<div style="background-color: #e7f3ff; border-left: 4px solid #0A36FF; padding: 15px 20px; border-radius: 4px; margin-bottom: 25px;">
    <strong style="color: #004085;">Message :</strong>
    <p style="color: #004085; margin: 10px 0 0;">{{ registration.message }}</p>
</div>
{% endif %}

<div style="background-color: #fff3cd; border-radius: 8px; padding: 15px 20px; margin-bottom: 25px;">
    <p style="color: #856404; margin: 0;">
        âš ï¸ <strong>Action requise :</strong> Pensez Ã  contacter cette personne rapidement !
    </p>
</div>

<p style="text-align: center; margin: 30px 0 0;">
    <a href="{{ request.scheme }}://{{ request.get_host }}/admin/core/visitorregistration/{{ registration.pk }}/change/" 
       style="display: inline-block; background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: #ffffff; text-decoration: none; padding: 12px 30px; border-radius: 25px; font-weight: 600;">
        Voir dans l'admin
    </a>
</p>
{% endblock %}
