<table class="table table-hover mb-0">
    <thead>
        <tr>
            <th>Nom</th>
            <th>Âge</th>
            <th>Classe</th>
            <th>Parent</th>
            <th>Transport</th>
            <th class="text-end">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for child in children %}
        <tr>
            <td>
                <div class="d-flex align-items-center">
                    {% if child.photo %}
                    <img src="{{ child.photo.url }}" alt="{{ child.full_name }}" 
                         class="me-3" style="width: 45px; height: 45px; border-radius: 50%; object-fit: cover; border: 2px solid {% if child.gender == 'M' %}#3b82f6{% else %}#ec4899{% endif %};">
                    {% else %}
                    <div class="avatar me-3" style="width: 45px; height: 45px; font-size: 0.85rem; background: {% if child.gender == 'M' %}linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%){% else %}linear-gradient(135deg, #ec4899 0%, #be185d 100%){% endif %};">
                        {{ child.first_name|slice:":1"|upper }}{{ child.last_name|slice:":1"|upper }}
                    </div>
                    {% endif %}
                    <div>
                        <div class="fw-semibold">{{ child.first_name }} {{ child.last_name }}</div>
                        <small class="text-muted">{% if child.gender == 'M' %}Garçon{% elif child.gender == 'F' %}Fille{% endif %}</small>
                    </div>
                </div>
            </td>
            <td>{{ child.age }} ans</td>
            <td>
                {% if child.bible_class %}
                <span class="badge" style="background: {{ child.bible_class.age_group.color }};">
                    {{ child.bible_class }}
                </span>
                {% else %}
                <span class="text-muted">Non assigné</span>
                {% endif %}
            </td>
            <td>
                <div>{{ child.parent1_name }}</div>
                <small class="text-muted">{{ child.parent1_phone }}</small>
            </td>
            <td>
                {% if child.needs_transport %}
                <span class="badge bg-warning">
                    <i class="bi bi-truck me-1"></i>Oui
                </span>
                {% else %}
                <span class="text-muted">-</span>
                {% endif %}
            </td>
            <td class="text-end">
                <a href="{% url 'bibleclub:child_detail' child.pk %}" class="btn btn-sm btn-outline-secondary" title="Voir">
                    <i class="bi bi-eye"></i>
                </a>
                <a href="{% url 'admin:bibleclub_child_change' child.pk %}" class="btn btn-sm btn-outline-secondary" title="Modifier">
                    <i class="bi bi-pencil"></i>
                </a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6" class="text-center py-5 text-muted">
                <i class="bi bi-people fs-1 d-block mb-3"></i>
                Aucun enfant trouvé
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

