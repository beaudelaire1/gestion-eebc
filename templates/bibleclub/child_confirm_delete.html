{% extends 'base.html' %}

{% block title %}{{ title }} - Club Biblique - EEBC{% endblock %}
{% block page_title %}{{ title }}{% endblock %}
{% block page_subtitle %}Cette action désactivera l'enfant sans supprimer son historique{% endblock %}

{% block extra_css %}
<style>
    .delete-card {
        background: var(--eebc-white);
        border-radius: 20px;
        padding: 2rem;
        box-shadow: 0 10px 40px rgba(11, 15, 25, 0.06);
        border: none;
        max-width: 500px;
        margin: 0 auto;
    }
    
    .warning-icon {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        color: white;
        margin: 0 auto 1.5rem;
    }
    
    .child-info {
        background: var(--eebc-gray-50);
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1.5rem 0;
        text-align: left;
    }
    
    .child-photo {
        width: 60px;
        height: 60px;
        border-radius: 12px;
        object-fit: cover;
    }
    
    .child-initials {
        width: 60px;
        height: 60px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        color: white;
        font-size: 1.2rem;
    }
    
    .child-initials.boy {
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    }
    
    .child-initials.girl {
        background: linear-gradient(135deg, #ec4899 0%, #be185d 100%);
    }
    
    .btn-danger {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        border: none;
        padding: 0.75rem 2rem;
        font-weight: 600;
        border-radius: 12px;
    }
    
    .btn-outline-secondary {
        border-radius: 12px;
        padding: 0.75rem 2rem;
        font-weight: 600;
    }
    
    .warning-text {
        background: #fef3c7;
        border: 1px solid #f59e0b;
        border-radius: 8px;
        padding: 1rem;
        margin: 1rem 0;
        color: #92400e;
        font-size: 0.9rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-6">
        <div class="delete-card text-center">
            <div class="warning-icon">
                <i class="bi bi-exclamation-triangle-fill"></i>
            </div>
            
            <h4 class="mb-3">Désactiver cet enfant ?</h4>
            <p class="text-muted mb-4">
                Vous êtes sur le point de désactiver cet enfant. Il ne sera plus visible dans les listes actives 
                mais son historique de présences sera conservé.
            </p>
            
            <!-- Informations de l'enfant -->
            <div class="child-info">
                <div class="d-flex align-items-center gap-3">
                    {% if child.photo %}
                    <img src="{{ child.photo.url }}" alt="{{ child.full_name }}" class="child-photo">
                    {% else %}
                    <div class="child-initials {% if child.gender == 'M' %}boy{% else %}girl{% endif %}">
                        {{ child.first_name|slice:":1"|upper }}{{ child.last_name|slice:":1"|upper }}
                    </div>
                    {% endif %}
                    
                    <div class="text-start">
                        <h6 class="mb-1">{{ child.full_name }}</h6>
                        <div class="text-muted small">
                            {{ child.age }} ans • {% if child.gender == 'M' %}Garçon{% else %}Fille{% endif %}
                            {% if child.bible_class %} • {{ child.bible_class }}{% endif %}
                        </div>
                        <div class="text-muted small">
                            Parents: {{ child.father_name }}
                            {% if child.mother_name %} et {{ child.mother_name }}{% endif %}
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="warning-text">
                <i class="bi bi-info-circle me-2"></i>
                <strong>Note:</strong> Cette action peut être annulée en réactivant l'enfant depuis l'administration.
            </div>
            
            <form method="post" class="d-flex gap-3 justify-content-center">
                {% csrf_token %}
                <a href="{% url 'bibleclub:children_list' %}" class="btn btn-outline-secondary">
                    <i class="bi bi-x-lg me-2"></i>Annuler
                </a>
                <button type="submit" class="btn btn-danger">
                    <i class="bi bi-person-dash me-2"></i>Désactiver l'enfant
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}